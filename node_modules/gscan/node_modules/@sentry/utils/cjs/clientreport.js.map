{"version":3,"file":"clientreport.js","sources":["../../src/clientreport.ts"],"sourcesContent":["import type { ClientReport, ClientReportEnvelope, ClientReportItem } from '@sentry/types';\n\nimport { createEnvelope } from './envelope';\nimport { dateTimestampInSeconds } from './time';\n\n/**\n * Creates client report envelope\n * @param discarded_events An array of discard events\n * @param dsn A DSN that can be set on the header. Optional.\n */\nexport function createClientReportEnvelope(\n  discarded_events: ClientReport['discarded_events'],\n  dsn?: string,\n  timestamp?: number,\n): ClientReportEnvelope {\n  const clientReportItem: ClientReportItem = [\n    { type: 'client_report' },\n    {\n      timestamp: timestamp || dateTimestampInSeconds(),\n      discarded_events,\n    },\n  ];\n  return createEnvelope<ClientReportEnvelope>(dsn ? { dsn } : {}, [clientReportItem]);\n}\n"],"names":["dateTimestampInSeconds","createEnvelope"],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA,SAAA,0BAAA;AACA,EAAA,gBAAA;AACA,EAAA,GAAA;AACA,EAAA,SAAA;AACA,EAAA;AACA,EAAA,MAAA,gBAAA,GAAA;AACA,IAAA,EAAA,IAAA,EAAA,eAAA,EAAA;AACA,IAAA;AACA,MAAA,SAAA,EAAA,SAAA,IAAAA,2BAAA,EAAA;AACA,MAAA,gBAAA;AACA,KAAA;AACA,GAAA,CAAA;AACA,EAAA,OAAAC,uBAAA,CAAA,GAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,EAAA,CAAA,gBAAA,CAAA,CAAA,CAAA;AACA;;;;"}